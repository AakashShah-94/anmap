#summary One-sentence summary of this page.

= Introduction =

This is not one hundred percent instruction to start debian on any android device, but it would be that in a short time.
Actually, simply no way to verify, but in fact it should be so.

You need <font color="red">root</font> right! And you need linux. (For windows user easiest way to download livecd)

There are two way for dealing with the terminal device:
  * With [http://code.google.com/p/connectbot/ ConnectBot], right on device
  * With adb, from Android SDK


I'm not sure, but you should use adb, as much easier to write commands by the normal human keyboard. 

So get started.

==Debian image. (debootstrap)==
Installing:
{{{
su -s
apt-get install debootstrap
}}}

Create an image with ext2 file system(it's recommended no more than 2Gb):
{{{
dd if=/dev/zero of=debian.img seek=1900000000 bs=1 count=1
mke2fs -F debian.img
}}}

Mounting:
{{{
mkdir debian
mount -o loop debian.img debian/
}}}

Installing minimal debian linux of arm architecture:
{{{
debootstrap --verbose --arch armel --foreign sid debian 
}}}

Cleaning:
{{{
umount debian/
rm -r debian/
}}}

This is the end.
For windows user - linux unrequired any more.

Download debian image(Not done yet).
  * MD5:
  * SHA256:

==Boot script==

Create an script file to start debian, named bootdebian or bootd, whatever.

For the first you should to know path to the folder /system. And remount with write:
{{{
adb shell mount
}}}

Or just connect to localhost with [http://code.google.com/p/connectbot/ ConnectBot] and type:
{{{
mount
}}}

Looking for string with "/system" and get first path (for example /dev/block/stl9)

Writing in our start debian script file(bootdebian) next strings:
{{{
echo "Mounting system as R/W"
mount -o remount,rw -t yaffs2 /dev/block/stl9 /system
}}}

Remember this path(/dev/block/stl9 /system).

Strings for mount:
{{{
echo "Setting some stuff up.."
export bin=/system/bin
export img_path=/mnt/sdcard/external_sd
export img=$img_path/debian.img
export mnt=/data/local/debian
export PATH=$bin:/usr/bin:/usr/sbin:/bin:$PATH
export TERM=linux
export HOME=/root
[ ! -e $mnt ] && mkdir $mnt
[ ! -e $img_path ] && mkdir $img_path
}}}

Strings for mounting image on loop device, and configure network:
{{{
echo "Mounting the Linux Image"
mknod /dev/block/loop5 b 7 0
losetup /dev/block/loop5 $img
mount -t ext2 -o noatime,nodiratime /dev/block/loop5 $mnt
mount -t devpts devpts $mnt/dev/pts
mount -t proc proc $mnt/proc
mount -t sysfs sysfs $mnt/sys

echo "Setting Up Networking"
sysctl -w net.ipv4.ip_forward=1
echo "nameserver 8.8.8.8" > $mnt/etc/resolv.conf
echo "nameserver 8.8.4.4" >> $mnt/etc/resolv.conf
echo "127.0.0.1 localhost" > $mnt/etc/hosts
}}}

Strings for mount memory card:
{{{
echo "Mounting sdcard and emmc in /mnt"
mkdir $mnt/mnt/external_sd
busybox mount --bind /mnt/sdcard/external_sd $mnt/mnt/external_sd
mkdir $mnt/mnt/sdcard
busybox mount --bind /mnt/sdcard/ $mnt/mnt/sdcard
}}}

Strings for entering in image by chroot:
{{{
echo "Entering CHROOT "
echo " "
chroot $mnt /bin/bash
}}}

When exit, unmount everything.

That's why you should stop work with debian by "exit" command:
{{{
echo "Shutting down CHROOT"
umount $mnt/mnt/emmc
umount $mnt/mnt/sdcard
sysctl -w net.ipv4.ip_forward=0
umount $mnt/dev/pts
umount $mnt/proc
umount $mnt/sys
umount $mnt
losetup -d /dev/block/loop5
mount -o remount,ro -t yaffs2 /dev/block/stl9 /system
}}}

That's all. Boot script is ready.

Put it and image to the sdcard:
{{{
adb push debian.img /mnt/sdcard/external_sd
adb push bootdebian /mnt/sdcard/external_sd
}}}

Download example bootdebian script(Not done yet).

==Finish==

You need to finish installation and update debian system:

Do not forget to stop work with debian by "exit" command! 
{{{
adb shell
su
mount -o remount,rw -t yaffs2 /dev/block/stl9 /system
cat /sdcard/bootdebian > /system/xbin/bootdebian
rm /sdcard/bootdebian
chmod 777 /system/xbin/bootdebian
bootdebian
/debootstrap/debootstrap --second-stage
echo 'deb http://ftp.au.debian.org/debian/debian sid main' >/etc/apt/sources.list
apt-get autoclean
apt-get update
exit
}}}

P.S. Chose nearest debian mirror from [http://www.debian.org/mirror/list list]. 

==X11 Up==

You should use light windows manager, for example lxde with icewm.

Start debian:
{{{
adb shell
su
bootdebian
}}}

Installing lxde, icewm and tightvncserver:
{{{
apt-get install lxde
apt-get install tightvncserver
apt-get install icewm
}}}

Configure vncserver, set -geometry to screen resolution and type password.
{{{
export USER=root
vncserver -geometry 800x480
}}}

Now it is need to stop vncserver and create configure files:
{{{
vncserver -kill :1
touch /root/.Xresources
nano /root/.vnc/xstartup
}}}

Edit xstartup script:
{{{
#!/bin/bash
xrdb /root/.Xresources
xsetroot -solid grey
icewm &
lxsession
}}}

Saving - ctrl+o, enter, ctrl+x

Create autorun script:
{{{
nano /root/.bashrc
}}}

Adding strings:
{{{
export USER=root
cd /
rm -r -f tmp
mkdir tmp
cd /
vncserver -kill :1
vncserver -kill :2
vncserver -geometry 800x480
}}}

Save all and exit:
{{{
exit
}}}

It is required vnc client to connect to vncserver. Look at [http://code.google.com/p/android-vnc-viewer/ android-vnc]

Disconnect usb and reboot.

Connect with [http://code.google.com/p/connectbot/ ConnectBot] and type:
{{{
su
bootdebian
}}}

If all good, the output would be looks like:
{{{
 "New 'X' desktop is localhost:1".
}}}

Now start [http://code.google.com/p/android-vnc-viewer/ android-vnc].

Use your password, no username, address is localhost and port - 5901, in color format set 24-bit color, force full-screen, format change to auto.

Push connect button.

Voila, starting lxde. 

If you lucky happy owner of system with processor faster than 1Ghz, it is strongly recommended to look at [http://www.enlightenment.org/ e17] windows manager.

Stopping [http://code.google.com/p/android-vnc-viewer/ android-vnc] and enter to [http://code.google.com/p/connectbot/ ConnectBot], type:
{{{
exit
}}}

==Developer's==

Entering in debian by  [http://code.google.com/p/connectbot/ ConnectBot] and type:
{{{
apt-get install g++ make 
}}}
Now, you can download and compile whatever you want. 